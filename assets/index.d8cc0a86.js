(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=o(r);fetch(r.href,l)}})();function P(){}function ye(t){return t()}function se(){return Object.create(null)}function z(t){t.forEach(ye)}function ke(t){return typeof t=="function"}function Me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let R;function Le(t,e){return R||(R=document.createElement("a")),R.href=e,t===R.href}function Te(t){return Object.keys(t).length===0}function we(t){return t&&ke(t.destroy)?t.destroy:P}function h(t,e){t.appendChild(e)}function x(t,e,o){t.insertBefore(e,o||null)}function w(t){t.parentNode.removeChild(t)}function He(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function p(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function I(){return S(" ")}function re(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function u(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function F(t,e,o){e in t?t[e]=typeof t[e]=="boolean"&&o===""?!0:o:u(t,e,o)}function Ae(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Y(t,e,o,n){o===null?t.style.removeProperty(e):t.style.setProperty(e,o,n?"important":"")}let ne;function q(t){ne=t}const N=[],ie=[],X=[],ce=[],Oe=Promise.resolve();let Q=!1;function Se(){Q||(Q=!0,Oe.then($e))}function Z(t){X.push(t)}const G=new Set;let V=0;function $e(){const t=ne;do{for(;V<N.length;){const e=N[V];V++,q(e),Pe(e.$$)}for(q(null),N.length=0,V=0;ie.length;)ie.pop()();for(let e=0;e<X.length;e+=1){const o=X[e];G.has(o)||(G.add(o),o())}X.length=0}while(N.length);for(;ce.length;)ce.pop()();Q=!1,G.clear(),q(t)}function Pe(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}const Ie=new Set;function De(t,e){t&&t.i&&(Ie.delete(t),t.i(e))}function Ne(t,e,o,n){const{fragment:r,on_mount:l,on_destroy:s,after_update:i}=t.$$;r&&r.m(e,o),n||Z(()=>{const d=l.map(ye).filter(ke);s?s.push(...d):z(d),t.$$.on_mount=[]}),i.forEach(Z)}function qe(t,e){const o=t.$$;o.fragment!==null&&(z(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function Be(t,e){t.$$.dirty[0]===-1&&(N.push(t),Se(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function je(t,e,o,n,r,l,s,i=[-1]){const d=ne;q(t);const a=t.$$={fragment:null,ctx:null,props:l,update:P,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:se(),dirty:i,skip_bound:!1,root:e.target||d.$$.root};s&&s(a.root);let m=!1;if(a.ctx=o?o(t,e.props||{},(f,v,...E)=>{const b=E.length?E[0]:v;return a.ctx&&r(a.ctx[f],a.ctx[f]=b)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](b),m&&Be(t,f)),v}):[],a.update(),m=!0,z(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const f=Ae(e.target);a.fragment&&a.fragment.l(f),f.forEach(w)}else a.fragment&&a.fragment.c();e.intro&&De(t.$$.fragment),Ne(t,e.target,e.anchor,e.customElement),$e()}q(d)}class ze{$destroy(){qe(this,1),this.$destroy=P}$on(e,o){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const r=n.indexOf(o);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Te(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const j=(t,e=0,o=1)=>t>o?o:t<e?e:t,A=(t,e=0,o=Math.pow(10,e))=>Math.round(o*t)/o,Re=t=>Fe(ee(t)),ee=t=>(t[0]==="#"&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1}),Ve=t=>Ye(Xe(t)),Ue=({h:t,s:e,v:o,a:n})=>{const r=(200-e)*o/100;return{h:A(t),s:A(r>0&&r<200?e*o/100/(r<=100?r:200-r)*100:0),l:A(r/2),a:A(n,2)}},te=t=>{const{h:e,s:o,l:n}=Ue(t);return`hsl(${e}, ${o}%, ${n}%)`},Xe=({h:t,s:e,v:o,a:n})=>{t=t/360*6,e=e/100,o=o/100;const r=Math.floor(t),l=o*(1-e),s=o*(1-(t-r)*e),i=o*(1-(1-t+r)*e),d=r%6;return{r:A([o,s,l,l,i,o][d]*255),g:A([i,o,o,s,l,l][d]*255),b:A([l,l,i,o,o,s][d]*255),a:A(n,2)}},K=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},Ye=({r:t,g:e,b:o})=>"#"+K(t)+K(e)+K(o),Fe=({r:t,g:e,b:o,a:n})=>{const r=Math.max(t,e,o),l=r-Math.min(t,e,o),s=l?r===t?(e-o)/l:r===e?2+(o-t)/l:4+(t-e)/l:0;return{h:A(60*(s<0?s+6:s)),s:A(r?l/r*100:0),v:A(r/255*100),a:n}},Ce=(t,e)=>{if(t===e)return!0;for(const o in t)if(t[o]!==e[o])return!1;return!0},Ge=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:Ce(ee(t),ee(e)),ae={},xe=t=>{let e=ae[t];return e||(e=document.createElement("template"),e.innerHTML=t,ae[t]=e),e},le=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let D=!1;const oe=t=>"touches"in t,Ke=t=>D&&!oe(t)?!1:(D||(D=oe(t)),!0),ue=(t,e)=>{const o=oe(e)?e.touches[0]:e,n=t.el.getBoundingClientRect();le(t.el,"move",t.getMove({x:j((o.pageX-(n.left+window.pageXOffset))/n.width),y:j((o.pageY-(n.top+window.pageYOffset))/n.height)}))},We=(t,e)=>{const o=e.keyCode;o>40||t.xy&&o<37||o<33||(e.preventDefault(),le(t.el,"move",t.getMove({x:o===39?.01:o===37?-.01:o===34?.05:o===33?-.05:o===35?1:o===36?-1:0,y:o===40?.01:o===38?-.01:0},!0)))};class Ee{constructor(e,o,n,r){const l=xe(`<div role="slider" tabindex="0" part="${o}" ${n}><div part="${o}-pointer"></div></div>`);e.appendChild(l.content.cloneNode(!0));const s=e.querySelector(`[part=${o}]`);s.addEventListener("mousedown",this),s.addEventListener("touchstart",this),s.addEventListener("keydown",this),this.el=s,this.xy=r,this.nodes=[s.firstChild,s]}set dragging(e){const o=e?document.addEventListener:document.removeEventListener;o(D?"touchmove":"mousemove",this),o(D?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!Ke(e)||!D&&e.button!=0)return;this.el.focus(),ue(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),ue(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":We(this,e);break}}style(e){e.forEach((o,n)=>{for(const r in o)this.nodes[n].style.setProperty(r,o[r])})}}class Je extends Ee{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:te({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${A(e)}`)}getMove(e,o){return{h:o?j(this.h+e.x*360,0,360):360*e.x}}}class Qe extends Ee{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:te(e)},{"background-color":te({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${A(e.s)}%, Brightness ${A(e.v)}%`)}getMove(e,o){return{s:o?j(this.hsva.s+e.x*100,0,100):e.x*100,v:o?j(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const Ze=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',et="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",tt="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",U=Symbol("same"),W=Symbol("color"),fe=Symbol("hsva"),J=Symbol("update"),de=Symbol("parts"),he=Symbol("css"),pe=Symbol("sliders");class ot extends HTMLElement{static get observedAttributes(){return["color"]}get[he](){return[Ze,et,tt]}get[pe](){return[Qe,Je]}get color(){return this[W]}set color(e){if(!this[U](e)){const o=this.colorModel.toHsva(e);this[J](o),this[W]=e}}constructor(){super();const e=xe(`<style>${this[he].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(e.content.cloneNode(!0)),o.addEventListener("move",this),this[de]=this[pe].map(n=>new n(o))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,o,n){const r=this.colorModel.fromAttr(n);this[U](r)||(this.color=r)}handleEvent(e){const o=this[fe],n={...o,...e.detail};this[J](n);let r;!Ce(n,o)&&!this[U](r=this.colorModel.fromHsva(n))&&(this[W]=r,le(this,"color-changed",{value:r}))}[U](e){return this.color&&this.colorModel.equal(e,this.color)}[J](e){this[fe]=e,this[de].forEach(o=>o.update(e))}}const rt={defaultColor:"#000",toHsva:Re,fromHsva:Ve,equal:Ge,fromAttr:t=>t};class nt extends ot{get colorModel(){return rt}}class lt extends nt{}customElements.define("hex-color-picker",lt);function st(t,e,o){var n=o||{},r=n.noTrailing,l=r===void 0?!1:r,s=n.noLeading,i=s===void 0?!1:s,d=n.debounceMode,a=d===void 0?void 0:d,m,f=!1,v=0;function E(){m&&clearTimeout(m)}function b($){var M=$||{},_=M.upcomingOnly,g=_===void 0?!1:_;E(),f=!g}function y(){for(var $=arguments.length,M=new Array($),_=0;_<$;_++)M[_]=arguments[_];var g=this,k=Date.now()-v;if(f)return;function L(){v=Date.now(),e.apply(g,M)}function C(){m=void 0}!i&&a&&!m&&L(),E(),a===void 0&&k>t?i?(v=Date.now(),l||(m=setTimeout(a?C:L,t))):L():l!==!0&&(m=setTimeout(a?C:L,a===void 0?t-k:t))}return y.cancel=b,y}function it(t,e,o){var n=o||{},r=n.atBegin,l=r===void 0?!1:r;return st(t,e,{debounceMode:l!==!1})}function ct(t,{root:e=null,rootMargin:o="0px 0px 0px 0px",threshold:n=0}={}){if(window&&"IntersectionObserver"in window){const r=new IntersectionObserver(l=>{l.forEach(s=>{if(s.isIntersecting){const i=s.target;i.dataset.src&&(i.src=i.dataset.src),i.dataset.srcset&&(i.srcset=i.dataset.srcset),r.unobserve(i)}})},{root:e,rootMargin:o,threshold:n});return r.observe(t),{destroy(){r&&r.unobserve(t)}}}}const at="/apod-color-search/assets/color-wheel.3f559839.svg";function me(t,e,o){const n=t.slice();return n[12]=e[o],n}function ut(t){let e,o,n,r;return{c(){e=p("h3"),o=S("No matches found for "),n=p("span"),r=S(t[0]),Y(n,"--color",t[0]),u(n,"class","svelte-1r8t8u4")},m(l,s){x(l,e,s),h(e,o),h(e,n),h(n,r)},p(l,s){s&1&&B(r,l[0]),s&1&&Y(n,"--color",l[0])},d(l){l&&w(e)}}}function ft(t){let e;return{c(){e=p("h3"),e.textContent="Try selecting a color! \u{1F449}"},m(o,n){x(o,e,n)},p:P,d(o){o&&w(e)}}}function dt(t){let e;return{c(){e=p("h3"),e.textContent="Loading..."},m(o,n){x(o,e,n)},p:P,d(o){o&&w(e)}}}function ht(t){let e,o=t[2].length+"",n,r,l,s;return{c(){e=p("h3"),n=S(o),r=S(" matches found for "),l=p("span"),s=S(t[1]),Y(l,"--color",t[1]),u(l,"class","svelte-1r8t8u4")},m(i,d){x(i,e,d),h(e,n),h(e,r),h(e,l),h(l,s)},p(i,d){d&4&&o!==(o=i[2].length+"")&&B(n,o),d&2&&B(s,i[1]),d&2&&Y(l,"--color",i[1])},d(i){i&&w(e)}}}function pt(t){let e,o,n,r;return{c(){e=p("img"),Le(e.src,o=at)||u(e,"src",o),u(e,"alt","color-wheel"),u(e,"class","svelte-1r8t8u4")},m(l,s){x(l,e,s),n||(r=re(e,"click",t[8]),n=!0)},p:P,d(l){l&&w(e),n=!1,r()}}}function mt(t){let e,o,n;return{c(){e=p("div"),e.textContent="x",u(e,"id","close-indicator"),u(e,"class","svelte-1r8t8u4")},m(r,l){x(r,e,l),o||(n=re(e,"click",t[7]),o=!0)},p:P,d(r){r&&w(e),o=!1,n()}}}function _e(t){let e,o,n,r;return{c(){e=p("div"),o=p("hex-color-picker"),F(o,"color",t[0]),F(o,"class","svelte-1r8t8u4"),u(e,"id","color-picker"),u(e,"class","svelte-1r8t8u4")},m(l,s){x(l,e,s),h(e,o),n||(r=[re(o,"color-changed",t[6]),we(t[5].call(null,o))],n=!0)},p(l,s){s&1&&F(o,"color",l[0])},d(l){l&&w(e),n=!1,z(r)}}}function ge(t){let e,o=t[2],n=[];for(let r=0;r<o.length;r+=1)n[r]=be(me(t,o,r));return{c(){e=p("div");for(let r=0;r<n.length;r+=1)n[r].c();u(e,"id","results"),u(e,"class","svelte-1r8t8u4")},m(r,l){x(r,e,l);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(r,l){if(l&4){o=r[2];let s;for(s=0;s<o.length;s+=1){const i=me(r,o,s);n[s]?n[s].p(i,l):(n[s]=be(i),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=o.length}},d(r){r&&w(e),He(n,r)}}}function be(t){let e,o,n=t[12].title+"",r,l,s=t[12].date+"",i,d,a,m,f,v,E,b,y,$,M,_;return{c(){e=p("h2"),o=p("a"),r=S(n),l=S(" ("),i=S(s),d=S(")"),m=I(),f=p("a"),v=p("img"),y=I(),u(o,"href",a="https://apod.nasa.gov/apod/ap"+t[12].date.slice(2).replaceAll("-","")+".html"),u(e,"class","svelte-1r8t8u4"),u(v,"data-src",E=t[12].url),u(v,"alt",b=t[12].title),u(v,"class","svelte-1r8t8u4"),u(f,"href",$=t[12].url)},m(g,k){x(g,e,k),h(e,o),h(o,r),h(o,l),h(o,i),h(o,d),x(g,m,k),x(g,f,k),h(f,v),h(f,y),M||(_=we(ct.call(null,v)),M=!0)},p(g,k){k&4&&n!==(n=g[12].title+"")&&B(r,n),k&4&&s!==(s=g[12].date+"")&&B(i,s),k&4&&a!==(a="https://apod.nasa.gov/apod/ap"+g[12].date.slice(2).replaceAll("-","")+".html")&&u(o,"href",a),k&4&&E!==(E=g[12].url)&&u(v,"data-src",E),k&4&&b!==(b=g[12].title)&&u(v,"alt",b),k&4&&$!==($=g[12].url)&&u(f,"href",$)},d(g){g&&w(e),g&&w(m),g&&w(f),M=!1,_()}}}function ve(t){let e;return{c(){e=p("h3"),e.textContent="Use the color picker at the top right of the page to search for pictures that match that color!",u(e,"id","help"),u(e,"class","svelte-1r8t8u4")},m(o,n){x(o,e,n)},d(o){o&&w(e)}}}function _t(t){let e,o,n,r,l,s,i,d,a,m,f,v,E,b,y;function $(c,T){return c[2].length>0?ht:c[3]?dt:c[0]===""?ft:ut}let M=$(t),_=M(t);function g(c,T){return c[4]?mt:pt}let k=g(t),L=k(t),C=t[4]&&_e(t),H=t[2].length>0&&ge(t),O=t[0]===""&&ve();return{c(){e=p("div"),o=p("h2"),o.textContent="APOD Color Search",n=I(),r=p("div"),_.c(),l=I(),s=p("button"),L.c(),i=I(),C&&C.c(),d=I(),H&&H.c(),a=I(),O&&O.c(),m=I(),f=p("footer"),v=S("Disclaimer: this site has no affiliation with APOD. All content displayed here is hosted by and links directly to APOD. View "),E=p("a"),E.textContent="source on GitHub",b=S("."),u(o,"id","title"),u(o,"class","svelte-1r8t8u4"),u(s,"id","color-wheel-button"),u(s,"class","svelte-1r8t8u4"),u(r,"id","right"),u(r,"class","svelte-1r8t8u4"),u(e,"id","top-bar"),u(E,"href","https://github.com/brycedorn/apod-color-search"),u(f,"class",y=t[2].length===0&&"bottom")},m(c,T){x(c,e,T),h(e,o),h(e,n),h(e,r),_.m(r,null),h(r,l),h(r,s),L.m(s,null),h(e,i),C&&C.m(e,null),x(c,d,T),H&&H.m(c,T),x(c,a,T),O&&O.m(c,T),x(c,m,T),x(c,f,T),h(f,v),h(f,E),h(f,b)},p(c,[T]){M===(M=$(c))&&_?_.p(c,T):(_.d(1),_=M(c),_&&(_.c(),_.m(r,l))),k===(k=g(c))&&L?L.p(c,T):(L.d(1),L=k(c),L&&(L.c(),L.m(s,null))),c[4]?C?C.p(c,T):(C=_e(c),C.c(),C.m(e,null)):C&&(C.d(1),C=null),c[2].length>0?H?H.p(c,T):(H=ge(c),H.c(),H.m(a.parentNode,a)):H&&(H.d(1),H=null),c[0]===""?O||(O=ve(),O.c(),O.m(m.parentNode,m)):O&&(O.d(1),O=null),T&4&&y!==(y=c[2].length===0&&"bottom")&&u(f,"class",y)},i:P,o:P,d(c){c&&w(e),_.d(),L.d(),C&&C.d(),c&&w(d),H&&H.d(c),c&&w(a),O&&O.d(c),c&&w(m),c&&w(f)}}}const gt="https://acs-api.deno.dev";function bt(t,e,o){let n="",r="",l=[],s=!1,i=!1;async function d(b){const y=await fetch(`${gt}/search/${b.replace("#","")}`),{data:$,error:M}=await y.json();M?console.error(M):(o(2,l=$),l.length>0&&o(1,r=b)),o(3,s=!1)}function a(b){const y=b.detail.value;o(0,n=y),o(3,s=!0),o(2,l=[]),o(1,r=""),d(y)}function m(b){const y=$=>{b&&!b.contains($.target)&&!$.defaultPrevented&&o(4,i=!1)};return document.addEventListener("click",y,!0),{destroy(){document.removeEventListener("click",y,!0)}}}const f=it(100,a);return[n,r,l,s,i,m,f,()=>o(4,i=!1),()=>o(4,i=!0)]}class vt extends ze{constructor(e){super(),je(this,e,bt,_t,Me,{})}}new vt({target:document.getElementById("app")});
