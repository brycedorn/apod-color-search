(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();function I(){}function ye(t){return t()}function se(){return Object.create(null)}function z(t){t.forEach(ye)}function ke(t){return typeof t=="function"}function Le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let V;function Ae(t,e){return V||(V=document.createElement("a")),V.href=e,t===V.href}function Oe(t){return Object.keys(t).length===0}function we(t){return t&&ke(t.destroy)?t.destroy:I}function h(t,e){t.appendChild(e)}function x(t,e,o){t.insertBefore(e,o||null)}function C(t){t.parentNode.removeChild(t)}function Te(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function _(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function P(){return H(" ")}function $e(t,e,o,r){return t.addEventListener(e,o,r),()=>t.removeEventListener(e,o,r)}function a(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function G(t,e,o){e in t?t[e]=typeof t[e]=="boolean"&&o===""?!0:o:a(t,e,o)}function Se(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e,o,r){o===null?t.style.removeProperty(e):t.style.setProperty(e,o,r?"important":"")}let re;function B(t){re=t}const N=[],ie=[],Y=[],ce=[],He=Promise.resolve();let Z=!1;function qe(){Z||(Z=!0,He.then(Ce))}function ee(t){Y.push(t)}const K=new Set;let U=0;function Ce(){const t=re;do{for(;U<N.length;){const e=N[U];U++,B(e),Pe(e.$$)}for(B(null),N.length=0,U=0;ie.length;)ie.pop()();for(let e=0;e<Y.length;e+=1){const o=Y[e];K.has(o)||(K.add(o),o())}Y.length=0}while(N.length);for(;ce.length;)ce.pop()();Z=!1,K.clear(),B(t)}function Pe(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ee)}}const Ie=new Set;function De(t,e){t&&t.i&&(Ie.delete(t),t.i(e))}function Ne(t,e,o,r){const{fragment:n,on_mount:s,on_destroy:l,after_update:i}=t.$$;n&&n.m(e,o),r||ee(()=>{const u=s.map(ye).filter(ke);l?l.push(...u):z(u),t.$$.on_mount=[]}),i.forEach(ee)}function Be(t,e){const o=t.$$;o.fragment!==null&&(z(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function je(t,e){t.$$.dirty[0]===-1&&(N.push(t),qe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Re(t,e,o,r,n,s,l,i=[-1]){const u=re;B(t);const c=t.$$={fragment:null,ctx:null,props:s,update:I,not_equal:n,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:se(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};l&&l(c.root);let b=!1;if(c.ctx=o?o(t,e.props||{},(d,p,...m)=>{const v=m.length?m[0]:p;return c.ctx&&n(c.ctx[d],c.ctx[d]=v)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](v),b&&je(t,d)),p}):[],c.update(),b=!0,z(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=Se(e.target);c.fragment&&c.fragment.l(d),d.forEach(C)}else c.fragment&&c.fragment.c();e.intro&&De(t.$$.fragment),Ne(t,e.target,e.anchor,e.customElement),Ce()}B(u)}class ze{$destroy(){Be(this,1),this.$destroy=I}$on(e,o){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(o),()=>{const n=r.indexOf(o);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Oe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const R=(t,e=0,o=1)=>t>o?o:t<e?e:t,A=(t,e=0,o=Math.pow(10,e))=>Math.round(o*t)/o,Ve=t=>Ge(te(t)),te=t=>(t[0]==="#"&&(t=t.substr(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:1}:{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:1}),Ue=t=>Fe(Ye(t)),Xe=({h:t,s:e,v:o,a:r})=>{const n=(200-e)*o/100;return{h:A(t),s:A(n>0&&n<200?e*o/100/(n<=100?n:200-n)*100:0),l:A(n/2),a:A(r,2)}},oe=t=>{const{h:e,s:o,l:r}=Xe(t);return`hsl(${e}, ${o}%, ${r}%)`},Ye=({h:t,s:e,v:o,a:r})=>{t=t/360*6,e=e/100,o=o/100;const n=Math.floor(t),s=o*(1-e),l=o*(1-(t-n)*e),i=o*(1-(1-t+n)*e),u=n%6;return{r:A([o,l,s,s,i,o][u]*255),g:A([i,o,o,l,s,s][u]*255),b:A([s,s,i,o,o,l][u]*255),a:A(r,2)}},W=t=>{const e=t.toString(16);return e.length<2?"0"+e:e},Fe=({r:t,g:e,b:o})=>"#"+W(t)+W(e)+W(o),Ge=({r:t,g:e,b:o,a:r})=>{const n=Math.max(t,e,o),s=n-Math.min(t,e,o),l=s?n===t?(e-o)/s:n===e?2+(o-t)/s:4+(t-e)/s:0;return{h:A(60*(l<0?l+6:l)),s:A(n?s/n*100:0),v:A(n/255*100),a:r}},xe=(t,e)=>{if(t===e)return!0;for(const o in t)if(t[o]!==e[o])return!1;return!0},Ke=(t,e)=>t.toLowerCase()===e.toLowerCase()?!0:xe(te(t),te(e)),ae={},Ee=t=>{let e=ae[t];return e||(e=document.createElement("template"),e.innerHTML=t,ae[t]=e),e},le=(t,e,o)=>{t.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:o}))};let D=!1;const ne=t=>"touches"in t,We=t=>D&&!ne(t)?!1:(D||(D=ne(t)),!0),ue=(t,e)=>{const o=ne(e)?e.touches[0]:e,r=t.el.getBoundingClientRect();le(t.el,"move",t.getMove({x:R((o.pageX-(r.left+window.pageXOffset))/r.width),y:R((o.pageY-(r.top+window.pageYOffset))/r.height)}))},Je=(t,e)=>{const o=e.keyCode;o>40||t.xy&&o<37||o<33||(e.preventDefault(),le(t.el,"move",t.getMove({x:o===39?.01:o===37?-.01:o===34?.05:o===33?-.05:o===35?1:o===36?-1:0,y:o===40?.01:o===38?-.01:0},!0)))};class Me{constructor(e,o,r,n){const s=Ee(`<div role="slider" tabindex="0" part="${o}" ${r}><div part="${o}-pointer"></div></div>`);e.appendChild(s.content.cloneNode(!0));const l=e.querySelector(`[part=${o}]`);l.addEventListener("mousedown",this),l.addEventListener("touchstart",this),l.addEventListener("keydown",this),this.el=l,this.xy=n,this.nodes=[l.firstChild,l]}set dragging(e){const o=e?document.addEventListener:document.removeEventListener;o(D?"touchmove":"mousemove",this),o(D?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!We(e)||!D&&e.button!=0)return;this.el.focus(),ue(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),ue(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":Je(this,e);break}}style(e){e.forEach((o,r)=>{for(const n in o)this.nodes[r].style.setProperty(n,o[n])})}}class Qe extends Me{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:oe({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${A(e)}`)}getMove(e,o){return{h:o?R(this.h+e.x*360,0,360):360*e.x}}}class Ze extends Me{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:oe(e)},{"background-color":oe({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${A(e.s)}%, Brightness ${A(e.v)}%`)}getMove(e,o){return{s:o?R(this.hsva.s+e.x*100,0,100):e.x*100,v:o?R(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}}const et=':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',tt="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",ot="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",X=Symbol("same"),J=Symbol("color"),fe=Symbol("hsva"),Q=Symbol("update"),de=Symbol("parts"),he=Symbol("css"),pe=Symbol("sliders");class nt extends HTMLElement{static get observedAttributes(){return["color"]}get[he](){return[et,tt,ot]}get[pe](){return[Ze,Qe]}get color(){return this[J]}set color(e){if(!this[X](e)){const o=this.colorModel.toHsva(e);this[Q](o),this[J]=e}}constructor(){super();const e=Ee(`<style>${this[he].join("")}</style>`),o=this.attachShadow({mode:"open"});o.appendChild(e.content.cloneNode(!0)),o.addEventListener("move",this),this[de]=this[pe].map(r=>new r(o))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,o,r){const n=this.colorModel.fromAttr(r);this[X](n)||(this.color=n)}handleEvent(e){const o=this[fe],r={...o,...e.detail};this[Q](r);let n;!xe(r,o)&&!this[X](n=this.colorModel.fromHsva(r))&&(this[J]=n,le(this,"color-changed",{value:n}))}[X](e){return this.color&&this.colorModel.equal(e,this.color)}[Q](e){this[fe]=e,this[de].forEach(o=>o.update(e))}}const rt={defaultColor:"#000",toHsva:Ve,fromHsva:Ue,equal:Ke,fromAttr:t=>t};class lt extends nt{get colorModel(){return rt}}class st extends lt{}customElements.define("hex-color-picker",st);function it(t,e,o){var r=o||{},n=r.noTrailing,s=n===void 0?!1:n,l=r.noLeading,i=l===void 0?!1:l,u=r.debounceMode,c=u===void 0?void 0:u,b,d=!1,p=0;function m(){b&&clearTimeout(b)}function v(k){var w=k||{},E=w.upcomingOnly,g=E===void 0?!1:E;m(),d=!g}function y(){for(var k=arguments.length,w=new Array(k),E=0;E<k;E++)w[E]=arguments[E];var g=this,$=Date.now()-p;if(d)return;function q(){p=Date.now(),e.apply(g,w)}function O(){b=void 0}!i&&c&&!b&&q(),m(),c===void 0&&$>t?i?(p=Date.now(),s||(b=setTimeout(c?O:q,t))):q():s!==!0&&(b=setTimeout(c?O:q,c===void 0?t-$:t))}return y.cancel=v,y}function ct(t,e,o){var r=o||{},n=r.atBegin,s=n===void 0?!1:n;return it(t,e,{debounceMode:s!==!1})}function at(t,{root:e=null,rootMargin:o="0px 0px 0px 0px",threshold:r=0}={}){if(window&&"IntersectionObserver"in window){const n=new IntersectionObserver(s=>{s.forEach(l=>{if(l.isIntersecting){const i=l.target;i.dataset.src&&(i.src=i.dataset.src),i.dataset.srcset&&(i.srcset=i.dataset.srcset),n.unobserve(i)}})},{root:e,rootMargin:o,threshold:r});return n.observe(t),{destroy(){n&&n.unobserve(t)}}}}const ut="/apod-color-search/assets/color-wheel.3f559839.svg";function me(t,e,o){const r=t.slice();return r[11]=e[o],r}function ft(t){let e,o,r,n;return{c(){e=_("h3"),o=H("No matches found for "),r=_("span"),n=H(t[0]),F(r,"--color",t[0]),a(r,"class","svelte-1vqlucv")},m(s,l){x(s,e,l),h(e,o),h(e,r),h(r,n)},p(s,l){l&1&&j(n,s[0]),l&1&&F(r,"--color",s[0])},d(s){s&&C(e)}}}function dt(t){let e;return{c(){e=_("h3"),e.textContent="Try selecting a color! \u{1F449}"},m(o,r){x(o,e,r)},p:I,d(o){o&&C(e)}}}function ht(t){let e;return{c(){e=_("h3"),e.textContent="Loading..."},m(o,r){x(o,e,r)},p:I,d(o){o&&C(e)}}}function pt(t){let e,o=t[2].length+"",r,n,s,l;return{c(){e=_("h3"),r=H(o),n=H(" matches found for "),s=_("span"),l=H(t[1]),F(s,"--color",t[1]),a(s,"class","svelte-1vqlucv")},m(i,u){x(i,e,u),h(e,r),h(e,n),h(e,s),h(s,l)},p(i,u){u&4&&o!==(o=i[2].length+"")&&j(r,o),u&2&&j(l,i[1]),u&2&&F(s,"--color",i[1])},d(i){i&&C(e)}}}function ge(t){let e,o,r,n;return{c(){e=_("div"),o=_("hex-color-picker"),G(o,"color",t[0]),G(o,"class","svelte-1vqlucv"),a(e,"id","color-picker"),a(e,"class","svelte-1vqlucv")},m(s,l){x(s,e,l),h(e,o),r||(n=[$e(o,"color-changed",t[7]),we(t[5].call(null,o))],r=!0)},p(s,l){l&1&&G(o,"color",s[0])},d(s){s&&C(e),r=!1,z(n)}}}function _e(t){let e,o=t[2],r=[];for(let n=0;n<o.length;n+=1)r[n]=ve(me(t,o,n));return{c(){e=_("div");for(let n=0;n<r.length;n+=1)r[n].c();a(e,"id","results"),a(e,"class","svelte-1vqlucv")},m(n,s){x(n,e,s);for(let l=0;l<r.length;l+=1)r[l].m(e,null)},p(n,s){if(s&4){o=n[2];let l;for(l=0;l<o.length;l+=1){const i=me(n,o,l);r[l]?r[l].p(i,s):(r[l]=ve(i),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}},d(n){n&&C(e),Te(r,n)}}}function ve(t){let e,o,r=t[11].title+"",n,s,l=t[11].date+"",i,u,c,b,d,p,m,v,y,k,w,E;return{c(){e=_("h2"),o=_("a"),n=H(r),s=H(" ("),i=H(l),u=H(")"),b=P(),d=_("a"),p=_("img"),y=P(),a(o,"href",c="https://apod.nasa.gov/apod/ap"+t[11].date.slice(2).replaceAll("-","")+".html"),a(e,"class","svelte-1vqlucv"),a(p,"data-src",m=t[11].url),a(p,"alt",v=t[11].title),a(p,"class","svelte-1vqlucv"),a(d,"href",k=t[11].url)},m(g,$){x(g,e,$),h(e,o),h(o,n),h(o,s),h(o,i),h(o,u),x(g,b,$),x(g,d,$),h(d,p),h(d,y),w||(E=we(at.call(null,p,{threshold:.9})),w=!0)},p(g,$){$&4&&r!==(r=g[11].title+"")&&j(n,r),$&4&&l!==(l=g[11].date+"")&&j(i,l),$&4&&c!==(c="https://apod.nasa.gov/apod/ap"+g[11].date.slice(2).replaceAll("-","")+".html")&&a(o,"href",c),$&4&&m!==(m=g[11].url)&&a(p,"data-src",m),$&4&&v!==(v=g[11].title)&&a(p,"alt",v),$&4&&k!==(k=g[11].url)&&a(d,"href",k)},d(g){g&&C(e),g&&C(b),g&&C(d),w=!1,E()}}}function be(t){let e;return{c(){e=_("h3"),e.textContent="Use the color picker at the top right of the page to search for APODs that match that color!",a(e,"id","help"),a(e,"class","svelte-1vqlucv")},m(o,r){x(o,e,r)},d(o){o&&C(e)}}}function mt(t){let e,o,r,n,s,l,i,u,c,b,d,p,m,v,y,k,w,E,g;function $(f,S){return f[2].length>0?pt:f[3]?ht:f[0]===""?dt:ft}let q=$(t),O=q(t),M=t[4]&&ge(t),L=t[2].length>0&&_e(t),T=t[0]===""&&be();return{c(){e=_("div"),o=_("h2"),o.textContent="APOD Color Search",r=P(),n=_("div"),O.c(),s=P(),l=_("button"),i=_("img"),c=P(),M&&M.c(),b=P(),L&&L.c(),d=P(),T&&T.c(),p=P(),m=_("footer"),v=H("Disclaimer: this site has no affiliation with APOD. All content displayed here is hosted by and links directly to APOD. View "),y=_("a"),y.textContent="source on GitHub",k=H("."),a(o,"id","title"),a(o,"class","svelte-1vqlucv"),Ae(i.src,u=ut)||a(i,"src",u),a(i,"alt","color-wheel"),a(i,"class","svelte-1vqlucv"),a(l,"id","color-wheel-button"),a(l,"class","svelte-1vqlucv"),a(n,"id","right"),a(n,"class","svelte-1vqlucv"),a(e,"id","top-bar"),a(y,"href","https://github.com/brycedorn/apod-color-search"),a(m,"class",w=t[2].length===0&&"bottom")},m(f,S){x(f,e,S),h(e,o),h(e,r),h(e,n),O.m(n,null),h(n,s),h(n,l),h(l,i),h(e,c),M&&M.m(e,null),x(f,b,S),L&&L.m(f,S),x(f,d,S),T&&T.m(f,S),x(f,p,S),x(f,m,S),h(m,v),h(m,y),h(m,k),E||(g=$e(l,"click",t[6]),E=!0)},p(f,[S]){q===(q=$(f))&&O?O.p(f,S):(O.d(1),O=q(f),O&&(O.c(),O.m(n,s))),f[4]?M?M.p(f,S):(M=ge(f),M.c(),M.m(e,null)):M&&(M.d(1),M=null),f[2].length>0?L?L.p(f,S):(L=_e(f),L.c(),L.m(d.parentNode,d)):L&&(L.d(1),L=null),f[0]===""?T||(T=be(),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null),S&4&&w!==(w=f[2].length===0&&"bottom")&&a(m,"class",w)},i:I,o:I,d(f){f&&C(e),O.d(),M&&M.d(),f&&C(b),L&&L.d(f),f&&C(d),T&&T.d(f),f&&C(p),f&&C(m),E=!1,g()}}}function gt(t,e,o){const r={BASE_URL:"/apod-color-search/",MODE:"production",DEV:!1,PROD:!0}.VITE_ACS_API_URL;let n="",s="",l=[],i=!1,u=!1;async function c(v){const y=await fetch(`${r}/search/${v.replace("#","")}`),{data:k,error:w}=await y.json();w?console.error(w):(o(2,l=k),l.length>0&&o(1,s=v)),o(3,i=!1)}function b(v){const y=v.detail.value;o(0,n=y),o(3,i=!0),o(2,l=[]),o(1,s=""),c(y)}function d(v){const y=k=>{v&&!v.contains(k.target)&&!k.defaultPrevented&&o(4,u=!1)};return document.addEventListener("click",y,!0),{destroy(){document.removeEventListener("click",y,!0)}}}function p(){o(4,u=!u)}const m=ct(100,b);return[n,s,l,i,u,d,p,m]}class _t extends ze{constructor(e){super(),Re(this,e,gt,mt,Le,{})}}new _t({target:document.getElementById("app")});
